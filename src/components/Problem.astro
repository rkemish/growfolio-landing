---
// Problem section - dark background with stats
import { getTranslations, createT } from '../i18n/utils';
import { type SupportedLocale } from '../i18n/config';

const lang = ((Astro.locals as any).lang as SupportedLocale) || 'en';
const translations = await getTranslations(lang);
const t = createT(translations);

// Parse headline to handle <br /> tags
const headline = t('problem.headline');
---

<section id="problem" class="section-dark py-16 sm:py-24 lg:py-32 px-4 sm:px-6 lg:px-10">
  <div class="max-w-6xl mx-auto relative z-10">
    <div class="text-center mb-10 sm:mb-16 reveal">
      <span
        class="inline-block text-xs font-semibold uppercase tracking-widest mb-4"
        style="color: var(--color-gold);"
      >
        {t('problem.section_label')}
      </span>
      <h2 class="font-display text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-semibold" style="color: var(--color-cream);" set:html={headline} />
    </div>

    <div class="grid sm:grid-cols-2 md:grid-cols-3 gap-4 sm:gap-6">
      <div
        class="reveal rounded-xl sm:rounded-2xl p-5 sm:p-8 backdrop-blur-lg transition-all duration-300 hover:translate-y-[-5px]"
        style="background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.1);"
      >
        <div class="font-display text-4xl sm:text-5xl lg:text-6xl font-bold leading-none mb-3 sm:mb-4" style="color: var(--color-coral);">
          {t('problem.stats.productivity.value')}
        </div>
        <div class="text-base sm:text-lg font-semibold mb-2" style="color: var(--color-cream);">
          {t('problem.stats.productivity.title')}
        </div>
        <p class="text-sm leading-relaxed" style="color: rgba(255, 255, 255, 0.7);">
          {t('problem.stats.productivity.description')}
        </p>
        <p class="text-xs mt-3 sm:mt-4" style="color: rgba(255, 255, 255, 0.4);">
          {t('problem.stats.productivity.source')}
        </p>
      </div>

      <div
        class="reveal rounded-xl sm:rounded-2xl p-5 sm:p-8 backdrop-blur-lg transition-all duration-300 hover:translate-y-[-5px]"
        style="background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.1);"
      >
        <div class="font-display text-4xl sm:text-5xl lg:text-6xl font-bold leading-none mb-3 sm:mb-4" style="color: var(--color-coral);">
          {t('problem.stats.income_gap.value')}
        </div>
        <div class="text-base sm:text-lg font-semibold mb-2" style="color: var(--color-cream);">
          {t('problem.stats.income_gap.title')}
        </div>
        <p class="text-sm leading-relaxed" style="color: rgba(255, 255, 255, 0.7);">
          {t('problem.stats.income_gap.description')}
        </p>
        <p class="text-xs mt-3 sm:mt-4" style="color: rgba(255, 255, 255, 0.4);">
          {t('problem.stats.income_gap.source')}
        </p>
      </div>

      <div
        class="reveal rounded-xl sm:rounded-2xl p-5 sm:p-8 backdrop-blur-lg transition-all duration-300 hover:translate-y-[-5px] sm:col-span-2 md:col-span-1"
        style="background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.1);"
      >
        <div class="font-display text-4xl sm:text-5xl lg:text-6xl font-bold leading-none mb-3 sm:mb-4" style="color: var(--color-coral);">
          {t('problem.stats.ai_wealth.value')}
        </div>
        <div class="text-base sm:text-lg font-semibold mb-2" style="color: var(--color-cream);">
          {t('problem.stats.ai_wealth.title')}
        </div>
        <p class="text-sm leading-relaxed" style="color: rgba(255, 255, 255, 0.7);">
          {t('problem.stats.ai_wealth.description')}
        </p>
        <p class="text-xs mt-3 sm:mt-4" style="color: rgba(255, 255, 255, 0.4);">
          {t('problem.stats.ai_wealth.source')}
        </p>
      </div>
    </div>
  </div>
</section>
